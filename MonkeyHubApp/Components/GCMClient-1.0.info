{"Name":"Google Cloud Messaging Client","Id":452,"Alias":"GCMClient","Description":"Google Cloud Messaging Client\n=============================\n\nGCM (Google Cloud Messaging) is a component that makes getting your Xamarin.Android app setup to receive Push Notifications quickly and easily!\n\n\n\nRegistering for GCM Push Notifications\n--------------------------------------\n\n```csharp\n//Check to see that GCM is supported and that the manifest has the correct information\nGcmClient.CheckDevice(this);\nGcmClient.CheckManifest(this);\n\n//Call to Register the device for Push Notifications\nGcmClient.Register(this, GcmBroadcastReceiver.SENDER_IDS);\n```\n\nService Implementation\n----------------------\nAdd these classes to your own project, and be sure to update the SENDER_IDS with your own Sender ID(s) from your Google API Console Project(s):\n\n```csharp\n[BroadcastReceiver(Permission=Constants.PERMISSION_GCM_INTENTS)]\n[IntentFilter(new string[] { Constants.INTENT_FROM_GCM_MESSAGE }, \n\tCategories = new string[] { \"@PACKAGE_NAME@\" })]\n[IntentFilter(new string[] { Constants.INTENT_FROM_GCM_REGISTRATION_CALLBACK }, \n\tCategories = new string[] { \"@PACKAGE_NAME@\" })]\n[IntentFilter(new string[] { Constants.INTENT_FROM_GCM_LIBRARY_RETRY }, \n\tCategories = new string[] { \"@PACKAGE_NAME@\" })]\npublic class GcmBroadcastReceiver : GcmBroadcastReceiverBase\u003cGcmService\u003e\n{\n\t//IMPORTANT: Change this to your own Sender ID!\n\t//The SENDER_ID is your Google API Console App Project Number\n\tpublic static string[] SENDER_IDS = new string[] {\"697360970929\"};\n}\n\n[Service] //Must use the service tag\npublic class GcmService : GcmServiceBase\n{\n\tpublic GcmService() : base(GcmBroadcastReceiver.SENDER_IDS) { }\n\n\tprotected override void OnRegistered (Context context, string registrationId)\n\t{\n\t\t//Receive registration Id for sending GCM Push Notifications to\n\t}\n\n\tprotected override void OnUnRegistered (Context context, string registrationId)\n\t{\n\t\t//Receive notice that the app no longer wants notifications\n\t}\n\n\tprotected override void OnMessage (Context context, Intent intent)\n\t{\n\t\t//Push Notification arrived - print out the keys/values\n\t\tif (intent == null || intent.Extras == null)\n\t\t\tforeach (var key in intent.Extras.KeySet())\n\t\t\t\tConsole.WriteLine(\"Key: {0}, Value: {1}\");\n\t}\n\n\tprotected override bool OnRecoverableError (Context context, string errorId)\n\t{\n\t\t//Some recoverable error happened\n\t}\n\n\tprotected override void OnError (Context context, string errorId)\n\t{\n\t\t//Some more serious error happened\n\t}\n}\n```\n\nChanges\n-------\nv1.0\n  - First release\n\n","Version":"1.0","Summary":"Add Google Cloud Messaging to your Xamarin.Android application","QuickStart":"Google Cloud Messaging Client\n=============================\n\nGCM (Google Cloud Messaging) is a component that makes getting your Xamarin.Android app setup to receive Push Notifications quickly and easily!\n\n\nRegistering for GCM Push Notifications\n--------------------------------------\n\n```csharp\n//Check to see that GCM is supported and that the manifest has the correct information\nGcmClient.CheckDevice(this);\nGcmClient.CheckManifest(this);\n\n//Call to Register the device for Push Notifications\nGcmClient.Register(this, GcmBroadcastReceiver.SENDER_IDS);\n```\n\nService Implementation\n----------------------\nAdd these classes to your own project, and be sure to update the SENDER_IDS with your own Sender ID(s) from your Google API Console Project(s):\n\n```csharp\n[BroadcastReceiver(Permission=Constants.PERMISSION_GCM_INTENTS)]\n[IntentFilter(new string[] { Constants.INTENT_FROM_GCM_MESSAGE }, \n\tCategories = new string[] { \"@PACKAGE_NAME@\" })]\n[IntentFilter(new string[] { Constants.INTENT_FROM_GCM_REGISTRATION_CALLBACK }, \n\tCategories = new string[] { \"@PACKAGE_NAME@\" })]\n[IntentFilter(new string[] { Constants.INTENT_FROM_GCM_LIBRARY_RETRY }, \n\tCategories = new string[] { \"@PACKAGE_NAME@\" })]\npublic class GcmBroadcastReceiver : GcmBroadcastReceiverBase\u003cGcmService\u003e\n{\n\t//IMPORTANT: Change this to your own Sender ID!\n\t//The SENDER_ID is your Google API Console App Project Number\n\tpublic static string[] SENDER_IDS = new string[] {\"697360970929\"};\n}\n\n[Service] //Must use the service tag\npublic class GcmService : GcmServiceBase\n{\n\tpublic GcmService() : base(GcmBroadcastReceiver.SENDER_IDS) { }\n\n\tprotected override void OnRegistered (Context context, string registrationId)\n\t{\n\t\t//Receive registration Id for sending GCM Push Notifications to\n\t}\n\n\tprotected override void OnUnRegistered (Context context, string registrationId)\n\t{\n\t\t//Receive notice that the app no longer wants notifications\n\t}\n\n\tprotected override void OnMessage (Context context, Intent intent)\n\t{\n\t\t//Push Notification arrived - print out the keys/values\n\t\tif (intent == null || intent.Extras == null)\n\t\t\tforeach (var key in intent.Extras.KeySet())\n\t\t\t\tConsole.WriteLine(\"Key: {0}, Value: {1}\");\n\t}\n\n\tprotected override bool OnRecoverableError (Context context, string errorId)\n\t{\n\t\t//Some recoverable error happened\n\t}\n\n\tprotected override void OnError (Context context, string errorId)\n\t{\n\t\t//Some more serious error happened\n\t}\n}\n```","Hash":"1c1ba6a925eb25430271ae7468bab9f6","TargetPlatforms":["android"],"TrialHash":null}